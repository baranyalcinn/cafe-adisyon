appId: com.caffio.cafeadisyon
productName: Cafe Adisyon
electronVersion: 39.3.0

directories:
  buildResources: build
  output: dist

# --- KRİTİK DEĞİŞİKLİKLER ---
compression: store # Sıkıştırma yok
asar: false # PAKETLEME YOK (RAM kurtarıcısı)
# ----------------------------

files:
  - out/**/*
  - package.json

  # --- ENGELLEME LİSTESİ (Blacklist) ---
  # 1. DevDependencies ve Gereksiz Klasörler
  - '!node_modules'
  - '!node_modules/**'
  - '!.github' # GitHub workflow dosyaları (Gereksiz)
  - '!.vscode' # VS Code ayarları (Gereksiz)
  - '!.idea' # WebStorm ayarları (Varsa)

  # 2. Config Dosyaları (Production'da işe yaramaz)
  - '!.eslintrc*' # eslint ayar dosyaları
  - '!.prettierrc*' # prettier ayar dosyaları
  - '!tsconfig*' # typescript ayar dosyaları
  - '!vite.config.*' # vite ayar dosyası
  - '!electron-builder.yml' # Build dosyasının kendisi

  # 3. Kaynak Kodlar
  - '!src'
  - '!src/**'
  - '!prisma' # Prisma kaynak dosyaları (Şema hariç, onu aşağıda alıyoruz)
  - '!prisma/**'
  - '!.git'
  - '!.git/**'

  # --- İZİN VERİLENLER (Whitelist) ---
  # Sadece çalışması zorunlu olan Native Modüller
  - 'node_modules/better-sqlite3/**/*'
  - 'node_modules/prisma/**/*'
  - 'node_modules/@prisma/**/*'
  - 'node_modules/.prisma/**/*'

# ASAR kapalı olduğu için asarUnpack kısmına gerek kalmadı, silebilirsin.

npmRebuild: false
buildDependenciesFromSource: false

win:
  executableName: cafe-adisyon
  icon: build/icon.ico
  target:
    - target: portable
      arch: x64

portable:
  artifactName: ${productName}-Portable-${version}.${ext}
  requestExecutionLevel: user

extraResources:
  - from: prisma/dev.db
    to: initial.db
  - from: prisma/schema.prisma
    to: schema.prisma

appId: com.caffio.cafeadisyon
productName: Cafe Adisyon
compression: store

directories:
  buildResources: build
  output: dist

# Only include bundled output, no node_modules scanning
files:
  - out/**/*
  - package.json
  - '!node_modules'

# Native modules as extraResources - bypasses dependency scanning
extraResources:
  - from: node_modules/@libsql/win32-x64-msvc
    to: node_modules/@libsql/win32-x64-msvc
    filter:
      - '**/*'
  - from: node_modules/@libsql/client
    to: node_modules/@libsql/client
    filter:
      - '**/*'
  - from: node_modules/@libsql/core
    to: node_modules/@libsql/core
    filter:
      - '**/*'
  - from: node_modules/@libsql/hrana-client
    to: node_modules/@libsql/hrana-client
    filter:
      - '**/*'
  - from: node_modules/@libsql/isomorphic-fetch
    to: node_modules/@libsql/isomorphic-fetch
    filter:
      - '**/*'
  - from: node_modules/@libsql/isomorphic-ws
    to: node_modules/@libsql/isomorphic-ws
    filter:
      - '**/*'
  - from: node_modules/@prisma
    to: node_modules/@prisma
    filter:
      - '**/*'
  - from: node_modules/.prisma
    to: node_modules/.prisma
    filter:
      - '**/*'

asar: false
npmRebuild: false
nodeGypRebuild: false
buildDependenciesFromSource: false

win:
  executableName: cafe-adisyon
  icon: build/icon.ico
  target:
    - target: portable
      arch: x64

portable:
  artifactName: ${productName}-Portable-${version}.${ext}

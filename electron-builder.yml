appId: com.caffio.cafeadisyon
productName: Cafe Adisyon
# store = no compression, much less memory usage
compression: store

directories:
  buildResources: build
  output: dist

files:
  - out/**/*
  - package.json
  # Only include required runtime dependencies, not all node_modules
  - node_modules/@libsql/win32-x64-msvc/**/*
  - node_modules/@libsql/client/**/*
  - node_modules/@libsql/core/**/*
  - node_modules/@libsql/hrana-client/**/*
  - node_modules/@libsql/isomorphic-fetch/**/*
  - node_modules/@libsql/isomorphic-ws/**/*
  - node_modules/@prisma/adapter-libsql/**/*
  - node_modules/@prisma/client/**/*
  - node_modules/.prisma/**/*
  - node_modules/prisma/libquery_engine-windows.dll.node

# Disable asar to reduce memory usage during packaging
asar: false

win:
  executableName: cafe-adisyon
  icon: build/icon.ico
  target:
    - target: nsis
      arch:
        - x64
  requestedExecutionLevel: asInvoker

nsis:
  artifactName: ${productName}-Setup-${version}.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  installerHeaderIcon: build/icon.ico
  differentialPackage: false

npmRebuild: false

appId: com.caffio.cafeadisyon
productName: Cafe Adisyon
compression: maximum

directories:
  buildResources: build
  output: dist

files:
  - out/**/*
  - package.json
  - node_modules/**/*
  # --- Gereksiz dosyaları at ---
  - '!**/*.{ts,tsx,map,md,txt}'
  - '!**/node_modules/@types'
  - '!**/node_modules/.bin'
  - '!**/node_modules/*/{test,__tests__,tests,example,examples,docs}'
  # --- Diğer OS dosyalarını at ---
  - '!**/node_modules/@libsql/linux-*'
  - '!**/node_modules/@libsql/darwin-*'
  - '!**/node_modules/prisma/libquery_engine-debian-*'
  - '!**/node_modules/prisma/libquery_engine-rhel-*'
  - '!**/node_modules/prisma/libquery_engine-darwin-*'
  # --- Geliştirici araçlarını at ---
  - '!**/node_modules/.cache'
  - '!**/node_modules/{typescript,vite,electron,electron-builder,electron-vite,eslint,prettier}'
  - '!**/node_modules/prisma/libquery_engine-*'
  - 'node_modules/prisma/libquery_engine-windows.dll.node'

asar: true
asarUnpack:
  - '**/node_modules/@libsql/**'
  - '**/node_modules/.prisma/**'
  - '**/node_modules/prisma/**'
  - 'resources/**'

win:
  executableName: cafe-adisyon
  icon: build/icon.ico
  target:
    - target: nsis
      arch:
        - x64
  requestedExecutionLevel: asInvoker

nsis:
  artifactName: ${productName}-Setup-${version}.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  installerHeaderIcon: build/icon.ico
  differentialPackage: false

npmRebuild: false
